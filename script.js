const lookup = [
  {
    "userHours": 1,
    "eocHourly": 20,
    "locTotalNoContract": 1930.27,
    "locTotal": 2088.29,
    "increaseOverCurrent": 158.03,
    "numCOLAs": 2,
    "numSteps": 0
  },
  {
    "userHours": 2,
    "eocHourly": 20,
    "locTotalNoContract": 3860.53,
    "locTotal": 4176.59,
    "increaseOverCurrent": 316.06,
    "numCOLAs": 2,
    "numSteps": 0
  },
  {
    "userHours": 3,
    "eocHourly": 20,
    "locTotalNoContract": 5790.8,
    "locTotal": 6264.88,
    "increaseOverCurrent": 474.08,
    "numCOLAs": 2,
    "numSteps": 0
  },
  {
    "userHours": 4,
    "eocHourly": 20,
    "locTotalNoContract": 7721.07,
    "locTotal": 8353.18,
    "increaseOverCurrent": 632.11,
    "numCOLAs": 2,
    "numSteps": 0
  },
  {
    "userHours": 5,
    "eocHourly": 20,
    "locTotalNoContract": 9651.33,
    "locTotal": 10441.47,
    "increaseOverCurrent": 790.14,
    "numCOLAs": 2,
    "numSteps": 0
  },
  {
    "userHours": 6,
    "eocHourly": 20,
    "locTotalNoContract": 11581.6,
    "locTotal": 12529.76,
    "increaseOverCurrent": 948.17,
    "numCOLAs": 2,
    "numSteps": 0
  },
  {
    "userHours": 7,
    "eocHourly": 20,
    "locTotalNoContract": 13511.86,
    "locTotal": 14618.06,
    "increaseOverCurrent": 1106.19,
    "numCOLAs": 2,
    "numSteps": 0
  },
  {
    "userHours": 8,
    "eocHourly": 20,
    "locTotalNoContract": 15442.13,
    "locTotal": 16706.35,
    "increaseOverCurrent": 1264.22,
    "numCOLAs": 2,
    "numSteps": 0
  },
  {
    "userHours": 9,
    "eocHourly": 20,
    "locTotalNoContract": 17372.4,
    "locTotal": 18794.65,
    "increaseOverCurrent": 1422.25,
    "numCOLAs": 2,
    "numSteps": 0
  },
  {
    "userHours": 10,
    "eocHourly": 20,
    "locTotalNoContract": 19302.66,
    "locTotal": 20882.94,
    "increaseOverCurrent": 1580.28,
    "numCOLAs": 2,
    "numSteps": 0
  },
  {
    "userHours": 11,
    "eocHourly": 20,
    "locTotalNoContract": 21232.93,
    "locTotal": 22971.23,
    "increaseOverCurrent": 1738.3,
    "numCOLAs": 2,
    "numSteps": 0
  },
  {
    "userHours": 12,
    "eocHourly": 20,
    "locTotalNoContract": 23163.2,
    "locTotal": 25059.53,
    "increaseOverCurrent": 1896.33,
    "numCOLAs": 2,
    "numSteps": 0
  },
  {
    "userHours": 13,
    "eocHourly": 20,
    "locTotalNoContract": 25093.46,
    "locTotal": 27147.82,
    "increaseOverCurrent": 2054.36,
    "numCOLAs": 2,
    "numSteps": 0
  },
  {
    "userHours": 14,
    "eocHourly": 20,
    "locTotalNoContract": 27023.73,
    "locTotal": 29236.11,
    "increaseOverCurrent": 2212.39,
    "numCOLAs": 2,
    "numSteps": 0
  },
  {
    "userHours": 15,
    "eocHourly": 20,
    "locTotalNoContract": 28953.99,
    "locTotal": 31324.41,
    "increaseOverCurrent": 2370.41,
    "numCOLAs": 2,
    "numSteps": 0
  },
  {
    "userHours": 16,
    "eocHourly": 21,
    "locTotalNoContract": 30884.26,
    "locTotal": 33482.22,
    "increaseOverCurrent": 2597.96,
    "numCOLAs": 2,
    "numSteps": 1
  },
  {
    "userHours": 17,
    "eocHourly": 21,
    "locTotalNoContract": 32814.53,
    "locTotal": 35574.86,
    "increaseOverCurrent": 2760.34,
    "numCOLAs": 2,
    "numSteps": 1
  },
  {
    "userHours": 18,
    "eocHourly": 21,
    "locTotalNoContract": 34744.79,
    "locTotal": 37667.5,
    "increaseOverCurrent": 2922.71,
    "numCOLAs": 2,
    "numSteps": 1
  },
  {
    "userHours": 19,
    "eocHourly": 21,
    "locTotalNoContract": 36675.06,
    "locTotal": 39760.14,
    "increaseOverCurrent": 3085.08,
    "numCOLAs": 2,
    "numSteps": 1
  },
  {
    "userHours": 20,
    "eocHourly": 21,
    "locTotalNoContract": 38605.33,
    "locTotal": 42374.18,
    "increaseOverCurrent": 3768.85,
    "numCOLAs": 2,
    "numSteps": 1
  },
  {
    "userHours": 21,
    "eocHourly": 21,
    "locTotalNoContract": 40535.59,
    "locTotal": 44492.89,
    "increaseOverCurrent": 3957.3,
    "numCOLAs": 2,
    "numSteps": 1
  },
  {
    "userHours": 22,
    "eocHourly": 21,
    "locTotalNoContract": 42465.86,
    "locTotal": 46611.6,
    "increaseOverCurrent": 4145.74,
    "numCOLAs": 2,
    "numSteps": 1
  },
  {
    "userHours": 23,
    "eocHourly": 21,
    "locTotalNoContract": 44396.12,
    "locTotal": 48730.3,
    "increaseOverCurrent": 4334.18,
    "numCOLAs": 2,
    "numSteps": 1
  },
  {
    "userHours": 24,
    "eocHourly": 21,
    "locTotalNoContract": 46326.39,
    "locTotal": 50849.01,
    "increaseOverCurrent": 4522.62,
    "numCOLAs": 2,
    "numSteps": 1
  },
  {
    "userHours": 25,
    "eocHourly": 21,
    "locTotalNoContract": 48256.66,
    "locTotal": 52967.72,
    "increaseOverCurrent": 4711.07,
    "numCOLAs": 2,
    "numSteps": 1
  },
  {
    "userHours": 26,
    "eocHourly": 21,
    "locTotalNoContract": 50186.92,
    "locTotal": 55764.25,
    "increaseOverCurrent": 5577.33,
    "numCOLAs": 2,
    "numSteps": 1
  },
  {
    "userHours": 27,
    "eocHourly": 21,
    "locTotalNoContract": 52117.19,
    "locTotal": 57909.03,
    "increaseOverCurrent": 5791.84,
    "numCOLAs": 2,
    "numSteps": 1
  },
  {
    "userHours": 28,
    "eocHourly": 21,
    "locTotalNoContract": 54047.46,
    "locTotal": 60053.81,
    "increaseOverCurrent": 6006.35,
    "numCOLAs": 2,
    "numSteps": 1
  },
  {
    "userHours": 29,
    "eocHourly": 21,
    "locTotalNoContract": 55977.72,
    "locTotal": 62198.59,
    "increaseOverCurrent": 6220.87,
    "numCOLAs": 2,
    "numSteps": 1
  },
  {
    "userHours": 30,
    "eocHourly": 21,
    "locTotalNoContract": 57907.99,
    "locTotal": 64343.37,
    "increaseOverCurrent": 6435.38,
    "numCOLAs": 2,
    "numSteps": 1
  },
  {
    "userHours": 31,
    "eocHourly": 22,
    "locTotalNoContract": 59838.25,
    "locTotal": 66622.84,
    "increaseOverCurrent": 6784.59,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 32,
    "eocHourly": 22,
    "locTotalNoContract": 61768.52,
    "locTotal": 68771.96,
    "increaseOverCurrent": 7003.44,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 33,
    "eocHourly": 22,
    "locTotalNoContract": 63698.79,
    "locTotal": 70921.09,
    "increaseOverCurrent": 7222.3,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 34,
    "eocHourly": 22,
    "locTotalNoContract": 65629.05,
    "locTotal": 73070.21,
    "increaseOverCurrent": 7441.16,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 35,
    "eocHourly": 22,
    "locTotalNoContract": 67559.32,
    "locTotal": 75219.34,
    "increaseOverCurrent": 7660.02,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 36,
    "eocHourly": 22,
    "locTotalNoContract": 69489.59,
    "locTotal": 77368.46,
    "increaseOverCurrent": 7878.88,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 37,
    "eocHourly": 22,
    "locTotalNoContract": 71419.85,
    "locTotal": 79517.58,
    "increaseOverCurrent": 8097.73,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 38,
    "eocHourly": 22,
    "locTotalNoContract": 73350.12,
    "locTotal": 81666.71,
    "increaseOverCurrent": 8316.59,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 39,
    "eocHourly": 22,
    "locTotalNoContract": 75280.38,
    "locTotal": 84832.56,
    "increaseOverCurrent": 9552.18,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 40,
    "eocHourly": 22,
    "locTotalNoContract": 77210.65,
    "locTotal": 87007.76,
    "increaseOverCurrent": 9797.11,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 41,
    "eocHourly": 22,
    "locTotalNoContract": 80106.05,
    "locTotal": 90270.55,
    "increaseOverCurrent": 10164.5,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 42,
    "eocHourly": 22,
    "locTotalNoContract": 83001.45,
    "locTotal": 93533.34,
    "increaseOverCurrent": 10531.89,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 43,
    "eocHourly": 22,
    "locTotalNoContract": 85896.85,
    "locTotal": 96796.13,
    "increaseOverCurrent": 10899.28,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 44,
    "eocHourly": 22,
    "locTotalNoContract": 88792.25,
    "locTotal": 100058.92,
    "increaseOverCurrent": 11266.67,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 45,
    "eocHourly": 22,
    "locTotalNoContract": 91687.65,
    "locTotal": 103321.71,
    "increaseOverCurrent": 11634.06,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 46,
    "eocHourly": 22,
    "locTotalNoContract": 94583.05,
    "locTotal": 106584.5,
    "increaseOverCurrent": 12001.45,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 47,
    "eocHourly": 22,
    "locTotalNoContract": 97478.45,
    "locTotal": 109847.29,
    "increaseOverCurrent": 12368.85,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 48,
    "eocHourly": 22,
    "locTotalNoContract": 100373.85,
    "locTotal": 113110.08,
    "increaseOverCurrent": 12736.24,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 49,
    "eocHourly": 22,
    "locTotalNoContract": 103269.24,
    "locTotal": 116372.87,
    "increaseOverCurrent": 13103.63,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 50,
    "eocHourly": 22,
    "locTotalNoContract": 106164.64,
    "locTotal": 119635.66,
    "increaseOverCurrent": 13471.02,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 51,
    "eocHourly": 22,
    "locTotalNoContract": 109060.04,
    "locTotal": 122898.46,
    "increaseOverCurrent": 13838.41,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 52,
    "eocHourly": 22,
    "locTotalNoContract": 111955.44,
    "locTotal": 126161.25,
    "increaseOverCurrent": 14205.8,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 53,
    "eocHourly": 22,
    "locTotalNoContract": 114850.84,
    "locTotal": 129424.04,
    "increaseOverCurrent": 14573.2,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 54,
    "eocHourly": 22,
    "locTotalNoContract": 117746.24,
    "locTotal": 132686.83,
    "increaseOverCurrent": 14940.59,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 55,
    "eocHourly": 22,
    "locTotalNoContract": 120641.64,
    "locTotal": 135949.62,
    "increaseOverCurrent": 15307.98,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 56,
    "eocHourly": 22,
    "locTotalNoContract": 123537.04,
    "locTotal": 139212.41,
    "increaseOverCurrent": 15675.37,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 57,
    "eocHourly": 22,
    "locTotalNoContract": 126432.44,
    "locTotal": 142475.2,
    "increaseOverCurrent": 16042.76,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 58,
    "eocHourly": 22,
    "locTotalNoContract": 129327.84,
    "locTotal": 145737.99,
    "increaseOverCurrent": 16410.15,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 59,
    "eocHourly": 22,
    "locTotalNoContract": 132223.24,
    "locTotal": 149000.78,
    "increaseOverCurrent": 16777.54,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 60,
    "eocHourly": 22,
    "locTotalNoContract": 135118.64,
    "locTotal": 152263.57,
    "increaseOverCurrent": 17144.94,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 61,
    "eocHourly": 22,
    "locTotalNoContract": 138014.04,
    "locTotal": 155526.36,
    "increaseOverCurrent": 17512.33,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 62,
    "eocHourly": 22,
    "locTotalNoContract": 140909.44,
    "locTotal": 158789.15,
    "increaseOverCurrent": 17879.72,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 63,
    "eocHourly": 22,
    "locTotalNoContract": 143804.84,
    "locTotal": 162051.95,
    "increaseOverCurrent": 18247.11,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 64,
    "eocHourly": 22,
    "locTotalNoContract": 146700.24,
    "locTotal": 165314.74,
    "increaseOverCurrent": 18614.5,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 65,
    "eocHourly": 22,
    "locTotalNoContract": 149595.63,
    "locTotal": 168577.53,
    "increaseOverCurrent": 18981.89,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 66,
    "eocHourly": 22,
    "locTotalNoContract": 152491.03,
    "locTotal": 171840.32,
    "increaseOverCurrent": 19349.28,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 67,
    "eocHourly": 22,
    "locTotalNoContract": 155386.43,
    "locTotal": 175103.11,
    "increaseOverCurrent": 19716.68,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 68,
    "eocHourly": 22,
    "locTotalNoContract": 158281.83,
    "locTotal": 178365.9,
    "increaseOverCurrent": 20084.07,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 69,
    "eocHourly": 22,
    "locTotalNoContract": 161177.23,
    "locTotal": 181628.69,
    "increaseOverCurrent": 20451.46,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 70,
    "eocHourly": 22,
    "locTotalNoContract": 164072.63,
    "locTotal": 184891.48,
    "increaseOverCurrent": 20818.85,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 71,
    "eocHourly": 22,
    "locTotalNoContract": 166968.03,
    "locTotal": 188154.27,
    "increaseOverCurrent": 21186.24,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 72,
    "eocHourly": 22,
    "locTotalNoContract": 169863.43,
    "locTotal": 191417.06,
    "increaseOverCurrent": 21553.63,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 73,
    "eocHourly": 22,
    "locTotalNoContract": 172758.83,
    "locTotal": 194679.85,
    "increaseOverCurrent": 21921.02,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 74,
    "eocHourly": 22,
    "locTotalNoContract": 175654.23,
    "locTotal": 197942.64,
    "increaseOverCurrent": 22288.42,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 75,
    "eocHourly": 22,
    "locTotalNoContract": 178549.63,
    "locTotal": 201205.44,
    "increaseOverCurrent": 22655.81,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 76,
    "eocHourly": 22,
    "locTotalNoContract": 181445.03,
    "locTotal": 204468.23,
    "increaseOverCurrent": 23023.2,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 77,
    "eocHourly": 22,
    "locTotalNoContract": 184340.43,
    "locTotal": 207731.02,
    "increaseOverCurrent": 23390.59,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 78,
    "eocHourly": 22,
    "locTotalNoContract": 187235.83,
    "locTotal": 210993.81,
    "increaseOverCurrent": 23757.98,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 79,
    "eocHourly": 22,
    "locTotalNoContract": 190131.23,
    "locTotal": 214256.6,
    "increaseOverCurrent": 24125.37,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 80,
    "eocHourly": 22,
    "locTotalNoContract": 193026.63,
    "locTotal": 217519.39,
    "increaseOverCurrent": 24492.77,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 81,
    "eocHourly": 22,
    "locTotalNoContract": 195922.02,
    "locTotal": 220782.18,
    "increaseOverCurrent": 24860.16,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 82,
    "eocHourly": 22,
    "locTotalNoContract": 198817.42,
    "locTotal": 224044.97,
    "increaseOverCurrent": 25227.55,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 83,
    "eocHourly": 22,
    "locTotalNoContract": 201712.82,
    "locTotal": 227307.76,
    "increaseOverCurrent": 25594.94,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 84,
    "eocHourly": 22,
    "locTotalNoContract": 204608.22,
    "locTotal": 230570.55,
    "increaseOverCurrent": 25962.33,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 85,
    "eocHourly": 22,
    "locTotalNoContract": 207503.62,
    "locTotal": 233833.34,
    "increaseOverCurrent": 26329.72,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 86,
    "eocHourly": 22,
    "locTotalNoContract": 210399.02,
    "locTotal": 237096.14,
    "increaseOverCurrent": 26697.11,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 87,
    "eocHourly": 22,
    "locTotalNoContract": 213294.42,
    "locTotal": 240358.93,
    "increaseOverCurrent": 27064.51,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 88,
    "eocHourly": 22,
    "locTotalNoContract": 216189.82,
    "locTotal": 243621.72,
    "increaseOverCurrent": 27431.9,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 89,
    "eocHourly": 22,
    "locTotalNoContract": 219085.22,
    "locTotal": 246884.51,
    "increaseOverCurrent": 27799.29,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 90,
    "eocHourly": 22,
    "locTotalNoContract": 221980.62,
    "locTotal": 250147.3,
    "increaseOverCurrent": 28166.68,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 91,
    "eocHourly": 22,
    "locTotalNoContract": 224876.02,
    "locTotal": 253410.09,
    "increaseOverCurrent": 28534.07,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 92,
    "eocHourly": 22,
    "locTotalNoContract": 227771.42,
    "locTotal": 256672.88,
    "increaseOverCurrent": 28901.46,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 93,
    "eocHourly": 22,
    "locTotalNoContract": 230666.82,
    "locTotal": 259935.67,
    "increaseOverCurrent": 29268.85,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 94,
    "eocHourly": 22,
    "locTotalNoContract": 233562.22,
    "locTotal": 263198.46,
    "increaseOverCurrent": 29636.25,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 95,
    "eocHourly": 22,
    "locTotalNoContract": 236457.62,
    "locTotal": 266461.25,
    "increaseOverCurrent": 30003.64,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 96,
    "eocHourly": 22,
    "locTotalNoContract": 239353.02,
    "locTotal": 269724.04,
    "increaseOverCurrent": 30371.03,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 97,
    "eocHourly": 22,
    "locTotalNoContract": 242248.41,
    "locTotal": 272986.83,
    "increaseOverCurrent": 30738.42,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 98,
    "eocHourly": 22,
    "locTotalNoContract": 245143.81,
    "locTotal": 276249.63,
    "increaseOverCurrent": 31105.81,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 99,
    "eocHourly": 22,
    "locTotalNoContract": 248039.21,
    "locTotal": 279512.42,
    "increaseOverCurrent": 31473.2,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 100,
    "eocHourly": 22,
    "locTotalNoContract": 250934.61,
    "locTotal": 282775.21,
    "increaseOverCurrent": 31840.59,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 101,
    "eocHourly": 22,
    "locTotalNoContract": 253830.01,
    "locTotal": 286038,
    "increaseOverCurrent": 32207.99,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 102,
    "eocHourly": 22,
    "locTotalNoContract": 256725.41,
    "locTotal": 289300.79,
    "increaseOverCurrent": 32575.38,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 103,
    "eocHourly": 22,
    "locTotalNoContract": 259620.81,
    "locTotal": 292563.58,
    "increaseOverCurrent": 32942.77,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 104,
    "eocHourly": 22,
    "locTotalNoContract": 262516.21,
    "locTotal": 295826.37,
    "increaseOverCurrent": 33310.16,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 105,
    "eocHourly": 22,
    "locTotalNoContract": 265411.61,
    "locTotal": 299089.16,
    "increaseOverCurrent": 33677.55,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 106,
    "eocHourly": 22,
    "locTotalNoContract": 268307.01,
    "locTotal": 302351.95,
    "increaseOverCurrent": 34044.94,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 107,
    "eocHourly": 22,
    "locTotalNoContract": 271202.41,
    "locTotal": 305614.74,
    "increaseOverCurrent": 34412.33,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 108,
    "eocHourly": 22,
    "locTotalNoContract": 274097.81,
    "locTotal": 308877.53,
    "increaseOverCurrent": 34779.73,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 109,
    "eocHourly": 22,
    "locTotalNoContract": 276993.21,
    "locTotal": 312140.32,
    "increaseOverCurrent": 35147.12,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 110,
    "eocHourly": 22,
    "locTotalNoContract": 279888.61,
    "locTotal": 315403.12,
    "increaseOverCurrent": 35514.51,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 111,
    "eocHourly": 22,
    "locTotalNoContract": 282784.01,
    "locTotal": 318665.91,
    "increaseOverCurrent": 35881.9,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 112,
    "eocHourly": 22,
    "locTotalNoContract": 285679.41,
    "locTotal": 321928.7,
    "increaseOverCurrent": 36249.29,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 113,
    "eocHourly": 22,
    "locTotalNoContract": 288574.8,
    "locTotal": 325191.49,
    "increaseOverCurrent": 36616.68,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 114,
    "eocHourly": 22,
    "locTotalNoContract": 291470.2,
    "locTotal": 328454.28,
    "increaseOverCurrent": 36984.08,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 115,
    "eocHourly": 22,
    "locTotalNoContract": 294365.6,
    "locTotal": 331717.07,
    "increaseOverCurrent": 37351.47,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 116,
    "eocHourly": 22,
    "locTotalNoContract": 297261,
    "locTotal": 334979.86,
    "increaseOverCurrent": 37718.86,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 117,
    "eocHourly": 22,
    "locTotalNoContract": 300156.4,
    "locTotal": 338242.65,
    "increaseOverCurrent": 38086.25,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 118,
    "eocHourly": 22,
    "locTotalNoContract": 303051.8,
    "locTotal": 341505.44,
    "increaseOverCurrent": 38453.64,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 119,
    "eocHourly": 22,
    "locTotalNoContract": 305947.2,
    "locTotal": 344768.23,
    "increaseOverCurrent": 38821.03,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 120,
    "eocHourly": 22,
    "locTotalNoContract": 308842.6,
    "locTotal": 348031.02,
    "increaseOverCurrent": 39188.42,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 121,
    "eocHourly": 22,
    "locTotalNoContract": 311738,
    "locTotal": 351293.81,
    "increaseOverCurrent": 39555.82,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 122,
    "eocHourly": 22,
    "locTotalNoContract": 314633.4,
    "locTotal": 354556.61,
    "increaseOverCurrent": 39923.21,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 123,
    "eocHourly": 22,
    "locTotalNoContract": 317528.8,
    "locTotal": 357819.4,
    "increaseOverCurrent": 40290.6,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 124,
    "eocHourly": 22,
    "locTotalNoContract": 320424.2,
    "locTotal": 361082.19,
    "increaseOverCurrent": 40657.99,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 125,
    "eocHourly": 22,
    "locTotalNoContract": 323319.6,
    "locTotal": 364344.98,
    "increaseOverCurrent": 41025.38,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 126,
    "eocHourly": 22,
    "locTotalNoContract": 326215,
    "locTotal": 367607.77,
    "increaseOverCurrent": 41392.77,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 127,
    "eocHourly": 22,
    "locTotalNoContract": 329110.4,
    "locTotal": 370870.56,
    "increaseOverCurrent": 41760.16,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 128,
    "eocHourly": 22,
    "locTotalNoContract": 332005.8,
    "locTotal": 374133.35,
    "increaseOverCurrent": 42127.56,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 129,
    "eocHourly": 22,
    "locTotalNoContract": 334901.19,
    "locTotal": 377396.14,
    "increaseOverCurrent": 42494.95,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 130,
    "eocHourly": 22,
    "locTotalNoContract": 337796.59,
    "locTotal": 380658.93,
    "increaseOverCurrent": 42862.34,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 131,
    "eocHourly": 22,
    "locTotalNoContract": 340691.99,
    "locTotal": 383921.72,
    "increaseOverCurrent": 43229.73,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 132,
    "eocHourly": 22,
    "locTotalNoContract": 343587.39,
    "locTotal": 387184.51,
    "increaseOverCurrent": 43597.12,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 133,
    "eocHourly": 22,
    "locTotalNoContract": 346482.79,
    "locTotal": 390447.31,
    "increaseOverCurrent": 43964.51,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 134,
    "eocHourly": 22,
    "locTotalNoContract": 349378.19,
    "locTotal": 393710.1,
    "increaseOverCurrent": 44331.9,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 135,
    "eocHourly": 22,
    "locTotalNoContract": 352273.59,
    "locTotal": 396972.89,
    "increaseOverCurrent": 44699.3,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 136,
    "eocHourly": 22,
    "locTotalNoContract": 355168.99,
    "locTotal": 400235.68,
    "increaseOverCurrent": 45066.69,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 137,
    "eocHourly": 22,
    "locTotalNoContract": 358064.39,
    "locTotal": 403498.47,
    "increaseOverCurrent": 45434.08,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 138,
    "eocHourly": 22,
    "locTotalNoContract": 360959.79,
    "locTotal": 406761.26,
    "increaseOverCurrent": 45801.47,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 139,
    "eocHourly": 22,
    "locTotalNoContract": 363855.19,
    "locTotal": 410024.05,
    "increaseOverCurrent": 46168.86,
    "numCOLAs": 2,
    "numSteps": 2
  },
  {
    "userHours": 140,
    "eocHourly": 22,
    "locTotalNoContract": 366750.59,
    "locTotal": 413286.84,
    "increaseOverCurrent": 46536.25,
    "numCOLAs": 2,
    "numSteps": 2
  }
];

// set global variables
let userHours = 0;
let numberOfCOLAs = 0;
let numberOfSteps = 0;
let endHourlyRate = 0;
let payIncreaseDollar = 0;
let payIncreasePercent = 0;
let lifeOfContractTotal = 0;
let userLang = "en-US";
let userLangCode = "en";
let userObj = {};

// translation object
const trans = {
  p1_1: {
    en: "You will be eligible for ",
    es: "Usted será elegible para ",
    ru: "Вы будете иметь право на ",
    vi: "Bạn sẽ đủ điều kiện nhận ",
    zh: "合同结束时，您将有资格获得 "
  },
  p1_2: {
    en: " COLAs (Cost of Living Adjustments) and up to ",
    es: " ajustes por costo de vida (COLA, siglas en inglés) a su salario y hasta ",
    ru: " COLA (корректировки стоимости жизни) и до ",
    vi: " COLA (Điều chỉnh chi phí sinh hoạt) và tăng lên tới ", 
    zh: " COLA（生活费用调整）和直到 "
  },
  p1_2_noStep: {
    en: " COLAs (Cost of Living Adjustments).",
    es: " ajustes por costo de vida (COLA, siglas en inglés) a su salario.",
    ru: " COLA (корректировка стоимости жизни).",
    vi: " COLA (Điều chỉnh chi phí sinh hoạt).", 
    zh: " COLA（生活费用调整）。"
  },
  p1_3: {
    en: " step increases by the end of the contract.",
    es: " aumentos por escalafón al vencimiento del contrato colectivo.",
    ru: " поступенчатых повышений зарплаты к концу действия контракта. ",
    vi: " bậc khi kết thúc hợp đồng.", 
    zh: " 步加薪。"
  },
  p2_1: {
    en: "Your hourly rate by the end of the contract in July 2025 will be ",
    es: "Su pago por hora al finalizar el contrato en julio de 2025 será ",
    ru: "Ваша почасовая ставка к моменту окончания контракта в июле 2025 года составит ",
    vi: "Mức lương theo giờ của bạn khi kết thúc hợp đồng vào tháng 7 năm 2025 sẽ là ", 
    zh: "到 2025 年 7 月合同结束时，您的时薪将为 "
  },
  p2_2: {
    en: " for hours up to 40 per week, and ",
    es: " para horas hasta 40 por semana, y ",
    ru: " долларов США за часы до 40 в неделю и ",
    vi: " cho số giờ làm việc lên tới 40 mỗi tuần và ", 
    zh: " 美元，所有加班时间为 "
  },
  p2_3: {
    en: " for all overtime hours (up to 20 overtime hours per week).",
    es: " para todas las horas extras/'overtime' (hasta 20 horas extras por semana).",
    ru: " долларов США за все сверхурочные часы (до 20 часов сверхурочной работы в неделю).",
    vi: " cho tất cả số giờ làm thêm (tối đa 20 giờ làm thêm mỗi tuần).", 
    zh: " 美元（每周加班时间不超过 20 小时）。"
  },
  p3_1: {
    en: "This pay increase is ",
    es: "Este aumento salarial es ",
    ru: "Это увеличение заработной платы на ",
    vi: "Mức tăng lương này là ",
    zh: "此次加薪比当前 17.77 美元的基本工资高 "
  },
  p3_2: {
    en: " more per hour than the current base rate of $17.77. This is a ",
    es: " más por hora que la tarifa base actual de $17.77. Este es un aumento del ",
    ru: " больше в час, чем текущая базовая ставка в размере 17,77 долл. Это ",
    vi: " nhiều hơn mỗi giờ so với mức lương cơ bản hiện tại là 17,77 USD. Đây là mức tăng ",
    zh: " 倍。到合同结束时，每小时增加 "
  },
  p3_3: {
    en: " percent increase per hour by the end of the contract.",
    es: " por ciento por hora al vencimiento del contrato colectivo.",
    ru: "-процентное увеличение в час к концу действия контракта.",
    vi: " phần trăm mỗi giờ vào cuối hợp đồng.",
    zh: "%。"
  },
  p4_1: {
    en: "Your increase in earnings over the life of the contract is estimated to be ",
    es: "Su aumento estimado en los ingresos durante el plazo del acuerdo de negociación colectiva: ",
    ru: "Ваше увеличение заработка в течение срока действия контракта оценивается в ",
    vi: "Mức tăng thu nhập của bạn trong suốt thời hạn hợp đồng được ước tính là ",
    zh: "在合同期内，您的收入预计将增加 "
  },
  valHPW: {
    en: "Please enter a whole number between 1 and 140.",
    es: "Por favor ingresa un número entero entre 1 y 140.",
    ru: "Пожалуйста, введите целое число от 1 до 140.",
    vi: "Vui lòng nhập một số nguyên từ 1 đến 140.",
    zh: "请输入 1 到 140 之间的整数."
  }
}

document.addEventListener("DOMContentLoaded", function(){
  console.log('dom loaded');

  // save elements to variables for later access
  let displayEl = document.getElementById("display");
  let dispwrap = document.getElementById("dispwrap");
  let form = document.getElementById("inputForm");
  let submit = document.getElementById("submitButton");
  let startOver = document.getElementById("startOverButton");
  let results = document.getElementById("results");
  let message = document.getElementById('message');
  let hpwEl = document.getElementById("hPW");
  let hPWValEl = document.getElementById('hPWVal');
  let instructions = document.getElementById("instructions");
  let inputs = document.getElementById("inputs");
  let languagePicker = document.getElementsByClassName('gt_selector')[0];

  // reset form on page reload
  form.reset();

  // set language code
  const setLanguageCode = () => {
    if (languagePicker) {
      console.log(`languagePicker: ${languagePicker.value}`);
      userLang = languagePicker.value;
      userLangCode = userLang.substring(3).toLowerCase();
      console.log(`userLang LP: ${userLang}`);
      console.log(`userLangCode LP: ${userLangCode}`);
    } else {
      userLang = navigator.language || navigator.userLanguage; 
      userLangCode = userLang.substring(0,2).toLowerCase();
      console.log(`userLang NOLP: ${userLang}`);
      console.log(`userLangCode NOLP: ${userLangCode}`);
    }

    const langCodeOptions = ['en', 'es', 'ru', 'vi', 'zh'];

    // default to english if user language is not supported
    if (!langCodeOptions.includes(userLangCode)) {
      console.log('userLangCode not in array');
      userLangCode = "en";
      console.log(`userLangCode: ${userLangCode}`);
    };
  }
  setLanguageCode();

  // find userObj
  const findUserObj = () => {
    console.log('findUserObj');
    console.log(`userHours: ${userHours}`);
    userObj = lookup.find((item) => item['userHours'].toString() === userHours );
    if (!userObj) { userObj = {} };
    console.log('userObj');
    console.log(userObj);
  };

  // listen for changes to hours worked
  function hoursChange(e) {
    console.log('hoursChange');
    userHours = e.target.value;
    console.log(`userHours: ${userHours}`);
    findUserObj();
  }

  // clean currency strings
  const clean = (str) => {
    if (typeof(str) == "number") {
      return str;
    } else {
      return parseFloat(str.replace(/[^0-9]/g, ""));
    }
  };

  // generate results string and message
  function resultsString() {
    // set variables
    let numCOLAs = userObj['numCOLAs'] || 0;
    let numSteps = userObj['numSteps'] || 0;
    let eocHourly = userObj['eocHourly'] || 0;
    let eocHourlyOvertime = (eocHourly * 1.5).toLocaleString(undefined, { maximumFractionDigits: 2, minimumFractionDigits: 2 }) || 0;
    let payIncreaseDollar = eocHourly - 17.77 || 0;
    let payIncreasePercent = (payIncreaseDollar / 17.77 * 100).toFixed(1) || 0;
    let noSteps = numSteps == '0' || numSteps == 0;
    let stepsString = '';
    

    console.log(`numCOLAs: ${numCOLAs}`);
    console.log(`numSteps: ${numSteps}`);
    console.log(`noSteps: ${noSteps}`);
    console.log(`eocHourly: ${eocHourly}`);
    console.log(`eocHourlyOvertime: ${eocHourlyOvertime}`);
    console.log(`payIncreaseDollar: ${payIncreaseDollar}`);
    console.log(`payIncreasePercent: ${payIncreasePercent}`);

    if (noSteps) {
      stepsString = trans['p1_2_noStep'][userLangCode];
    } else {
      stepsString = `${trans['p1_2'][userLangCode]}<span class="purplebold">${numSteps}</span>${trans['p1_3'][userLangCode]}`;
    }

    return `<p style="max-width: 600px; margin: auto auto 20px auto;">
              <ul style="max-width: 600px; margin: auto;">
                <li style="margin-bottom:15px;">
                  ${trans['p1_1'][userLangCode]}
                  <span class="purplebold">${numCOLAs}</span>
                  ${stepsString}
                </li>
                <li style="margin-bottom:15px;">
                  ${trans['p2_1'][userLangCode]}
                  <span class="purplebold">$${eocHourly}</span>
                  ${trans['p2_2'][userLangCode]}
                  <span class="purplebold">$${eocHourlyOvertime}</span>
                  ${trans['p2_3'][userLangCode]}
                </li>
                <li style="margin-bottom:15px;">
                  ${trans['p3_1'][userLangCode]}
                  <span class="purplebold">
                    $${payIncreaseDollar
                      .toLocaleString(
                        undefined, 
                          { 
                            maximumFractionDigits: 2, 
                            minimumFractionDigits: 2 
                          }
                        )
                      }
                  </span>
                  ${trans['p3_2'][userLangCode]}
                  <span class="purplebold">${payIncreasePercent}</span>
                  ${trans['p3_3'][userLangCode]}
                </li>
                
              </ul>
            </p>`
  }

  // On reload, reload page
  function handleReload() {
    form.reset(); 
    window.location.reload();
  }

  function validateHPW() {
    console.log('validateHPW');
    var reg = /^\d+$/;
    if (!userHours || userHours < 1 || userHours > 140 || !reg.test(userHours) ) {
      console.log('hpwInvalid');
      hpwEl.classList.add("invalid");
      hPWValEl.setAttribute("style", "display:block;");
      hPWValEl.innerHTML = `${trans['valHPW'][userLangCode]}`;
      submit.setAttribute("disabled", "disabled");
      startOver.setAttribute("style", "display:block;");
      return false;
    } else {
      console.log('hpwValid');
      hpwEl.classList.remove("invalid");
      hPWValEl.innerHTML = "";
      hPWValEl.setAttribute("style", "display:none;");
      submit.removeAttribute("disabled");
      startOver.setAttribute("style", "display:none;");
      return true;
    }
  }

  // On submit, validate inputs. if valid, hide instructions and display results
  function handleSubmit(e) {
    e.preventDefault();
    let valid;
    valid = validateHPW();
    console.log(valid);
    if (valid) {
      console.log('valid', valid);
      submit.setAttribute("style", "display:none;");
      startOver.setAttribute("style", "display:block;");
      instructions.setAttribute("style", "height: 0; display:none;");
      inputs.setAttribute("style", "height: 0; display:none;");
      message.setAttribute("style", "display:block;");
      results.innerHTML = resultsString();
    }
  }

  submit.addEventListener("click", handleSubmit);
  startOver.addEventListener("click", handleReload);
  hpwEl.addEventListener("change", hoursChange);
  hpwEl.addEventListener("blur", validateHPW);
  if(languagePicker) {
    languagePicker.addEventListener("change", setLanguageCode);
  }

});
